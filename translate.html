<!DOCTYPE html>

<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
<meta content="utf-8" http-equiv="encoding">
<html>
    <head>
        <h1>
            Translate
        </h1>
    </head>    
    <body>
        <div>
            <textarea id="textinp" name="w3review" rows="4" cols="50" required>
            </textarea>

            <select id="targetLanguage">
                <option value="ZH">Chinese (Mandarin)</option>
                <option value="CS">Czech</option>
                <option value="DA">Danish</option>
                <option value="NL">Dutch</option>
                <option value="EN">English</option>
                <option value="ET">Estonian</option>
                <option value="FR" selected = "selected">French</option>
                <option value="ID" selected = "selected">Indonesia</option>
            </select>
                <button type="button" id="buttons">Click Me!</button>
            
                <textarea id="hasil" name="w3review" rows="4" cols="50">
                </textarea>
        </div>
        
    </body>
</html>
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<script type="text/javascript" >  
//import Translate from '@google-cloud/translate'; 
//const translate = new Translate({
 //   projectId: 'avian-current-603', //eg my-proj-0o0o0o0o'
  //  keyFilename: 'avian-current-603-5da8bf4868b8.json' //eg my-proj-0fwewexyz.json
//}); 

//const element = document.getElementById("buttons");
//element.addEventListener("click", function() {
//fetch("https://translation.googleapis.com/language/translate/v2",{
 //       key:"AIzaSyBT9bNbAp8j8yz6M7OqBwHLmrVdC3PMzOw",    
 //       method:'POST',
  //      body:JSON.stringify({
   //         q: document.getElementById("textinp").value,
   //         target: "id",
    //        }),
    //    headers:{
    //        "Content-type":"application/json; charset=UTF-8"
     //   }
        
//})
//.then(function(response){
//    return response.json()
//})
//.then(function(data){
 //   console.log(data)
//})
//});
$("#buttons").click(function () {

var url = "https://translation.googleapis.com/language/translate/v2";
//Strings requiring translation
url += "?q=" + escape($("#textinp").val());
//Target language
url += "&target=" + $("#targetLanguage").val();
//Replace with your API key
url += "&key=API_Key";
$.get(url, function (data, status) {
    //Results are returned in an array following the order they were passed.
    console.log(data) ;
    $("#hasil").text(data.data.translations[0].translatedText);
    
});       
});
</script> 